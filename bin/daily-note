#!/bin/bash
set -euo pipefail
IFS=$'\n\t'

bin_dir=$(dirname "$0")

id=$(date '+%Y-%m-%d')
timestamp=$(date '+%Y-%m-%dT%T%z')

file="$bin_dir/../pkm/journal/$id.md"

if [[ ! -f "$file" ]]; then
  cat << EOF > "$file"
---
id: $id
type: Journal
created: $timestamp
modified: $timestamp
---
# $id Daily

## Tasks

## Meetings

* 10:15 Standup

## Misc. Tidbits

EOF
fi

eval "$EDITOR $file"
